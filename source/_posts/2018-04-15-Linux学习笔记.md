---
title: Linux学习笔记
date: 2018-04-15 18:32:00
tags: Linux
categories: 技术
---

> 本篇文章整理自《Linux系统概述》课堂笔记，会有一些与Linux无关的课外知识补充。考试重点在标题前用※标注，十分重要的点会标为彩色。Linux常用命令部分为避免符号混淆，不使用※标注重点，重点直接标为彩色，并且凡是该命令列出的选项均为常用或重点的选项。

# 基本概念整理

## 操作系统的概念
操作系统是控制和管理计算机系统内各种硬件和软件资源、有效地组织多道程序运行的系统软件（或程序集合），是用户与计算机之间的接口。

## 操作系统的基本功能
包括存储管理、进程和处理及管理、文件管理、设备管理和用户接口服务。

## 操作系统的类型
1. 批处理系统
2. 分时系统：很普遍
3. 实时系统：典型的实时系统如VxWorks
4. 网络操作系统
5. 分布式操作系统

## Linux系统的特点
1. 与Unix兼容
2. 自由软件，源码公开
3. 性能高，安全性强
4. 便于定制和再开发
5. 互操作性高
6. 全面的多任务和真正的32位操作系统

## Linux的常用版本
1. 核心版本：主要是Linux的内核，由Linus等人不断开发和推出新的内核。内核版本号格式：x.y.zz-www，x为主版本号，y为次版本号，z为修订版本号。
2. 发行版本：是各个公司推出的版本，与核心版是各自独立发展的，发行版是一些基于Linux核心的软件包。

# Linux系统基础知识

## 使用工具推荐

	虚拟机：VMware（本文使用）、Virtualbox（免费）
	
	虚拟机使用注意事项：
	同时开启的所有虚拟机占用内存不要超过真实内存的一半。
	一般来讲，建立一个win7内存至少1G+，而建立一个Linux系统内存1G即可，有些版本的Linux系统可能500M+也可以。
	但内存也不要过小，否则虚拟机的性能将十分低，导致运行速度过慢。
	
	虚拟机的运行：虚拟机与真实设备共用外存和CPU，内存则划分一块真实内存来使用，硬盘实际上是一个硬盘文件。

	
	系统镜像（*.iso）：红帽企业版、CentOS、debian、openSUSE等，本文均使用红帽企业版。
	
## VMware常用功能
* 快照功能：虚拟机 —— 快照 —— 拍摄快照/快照管理器；用于记录当前配置环境，后续操作过程中如果出现错误可以随时还原；在快照管理器中右键点击 —— 转到快照，可以使系统还原到该快照；
* 克隆功能：虚拟机 —— 管理 —— 克隆；用于快速复制一个相同的虚拟机；
* VMware Tools的安装：虚拟机 —— 重新安装VMware Tools，则安装包会以虚拟光驱的形式出现在虚拟机中，是一个压缩包，使用命令将它解压到/tmp中，然后执行安装
* VMware Tools的几个明显的功能：①屏幕自动调整；②可以在真机和虚拟机之间复制文件；③提高游戏性能，是对VMware的增强

	
## 虚拟机中系统的安装（VMware安装64位红帽企业版）

1. 在VMware中选择创建新的虚拟机 —— 配置类型选择典型 —— 选择稍后安装操作系统 —— 选择Linux系统 —— 选择green Hat Enterprise版本（这里其实就是个名字，并没有什么实际影响） —— 指定存储路径 —— 指定磁盘容量使用默认配置即可，默认将虚拟磁盘拆分为多个文件即可 —— 选择自定义硬件做最后的调整 —— 完成

2. 开机进行系统安装，开机前保证虚拟光驱中放入了系统镜像（.iso）文件

3. 系统安装部分

	* 选择Test this media & install green Hat Enterprise Linux 7.4，然后根据系统提示安装即可
	* 注意安装时选择带GUI的服务器，并勾选开发工具选项保证gcc可以使用
	
注意事项：
* 有些电脑主板不支持开启VT，这样的电脑不能使用64位虚拟机。
* 如果是安装服务器用的Linux，先不要选择中文，服务器是没有GUI的，因为真实终端刚安装好的时候看不到中文，会全部显示乱码，此时就没办法使用了。
* 服务器一般为了性能，是不会使用GUI的。
	
## <font color="green">※Linux系统中硬盘设备的命名规则</font>
Linux通过字母和数字的组合来标志硬盘分区。前两个字母表示分区所在的设备的类型，如hd表示IDE硬盘即并口硬盘，sd表示SCSI/SATA/USB硬盘即串口硬盘，第三个字母表示分区在哪个设备上，如hda表示第一块IDE硬盘，hdb表示第二块IDE硬盘，sdc表示第三块串口硬盘等；最后的数字表示分区的次序，如数字1~4表示主分区或扩展分区，而逻辑分区从5开始。如果没有对磁盘分区，则一律不加数字，表示整块磁盘。
例：`/dev/sda5`
其中，` dev `是Linux系统中硬盘设备文件所在的目录；
` sd `表示为串口硬盘，相对的，hd表示为并口硬盘；
` a `表示硬盘的顺序号；
` 5 `表示分区的顺序号；
综上所述，上述命名表示Linux系统中第一块串口硬盘的第5个分区。

## <font color="green">※Linux系统分区规则</font>

* 默认必须有一个` / `即<font color="green">根分区</font>，也就相当于Windows系统中的C盘；
* 默认必须有一个<font color="green">swap分区</font>即交换空间，它用作虚拟内存，通常为内存的1-1.5倍大小甚至2倍。（补充：windows系统的虚拟内存为pagefile.sys，存储在C盘是个隐藏文件。虚拟内存防止所有内存空间突然全部用完的情况，虽然虚拟内存速度很慢，但可以预防紧急情况；还有一种情况是电脑突然待机，此时会把数据放到虚拟内存中）
* /boot分区是用于保证即使根分区出现问题也能启动计算机的，可以没有。
	* <font color="green">Linux中的主分区至少有1个，最多有4个（由于分区表大小限制）；</font>
	* <font color="green">扩展分区可以没有，最多1个；</font>
	* <font color="green">逻辑分区建立在扩展分区之下，可以有多个；</font>
	* 综上所述，主分区+扩展分区（逻辑分区1+逻辑分区2+...+逻辑分区n）=硬盘容量。

## ※在Unix或Linux系统上实现GUI的机制——X Window

X Window模型如下图：
![X Window](https://s1.ax1x.com/2018/04/16/CeBkx1.md.png "X Window")

Window系统上鼠标点击时是由被点击的应用程序直接获得鼠标点击事件，而Linux系统上则不然，Linux系统在点击后首先通知X Server服务器，X Server收到后，根据大概的位置推算出被点击的是哪个应用程序，再通过X协议告知该应用程序。因此，Windows系统的GUI比Linux稍快。
<font color="green">**※整个X Window由三个部分组成：**

X Server
X Client
X protocol:X Server与X Client之间的通信协议</font>

其中X Server与X Client可以不在同一台机器上。在启动X Window时，首先启动X Server，然后启动X Client，最后建立通信。

## <font color="green">※Linux常用的文件系统</font>

Linux常用的文件系统有ext4、xfs、f2fs、zfs、btrfs
补充：
* windows常用的文件系统有FAT32、NTFS、exFat
* ios常用的文件系统APFS

## Linux系统常见的压缩文件后缀
* .tar.gz
* .bz2
* .zip
* .gz
* .tar.bz2

## <font color="green">※Linux系统的分区表</font>
分区表有两种形式
* MBR：最多支持4个主分区，或者3个主分区以及一个扩展分区，扩展分区下可以划分出若干个逻辑分区
* GPT：支持几乎无限个分区数量，但Windows系统最多支持128个GPT分区

## ※GNOME和KDE桌面
* GNOME：用GTK、GTK+等应用程序开发包开发的；而GTK是用C语言开发的
* KDE：用Qt库开发的，而Qt由c++开发。

## 一些名词
* 虚拟控制台
* 虚拟终端
* 控制台
* 命令行
* 终端
* CLI(Commender Line Interface)
这些在Linux系统上指代的都是同一样东西，也就是可以输入命令行的窗口或界面。放在Windows系统上来讲就是cmd。
其中**虚拟控制台**和**虚拟终端**稍有特殊，它们指代的是图形用户界面中的命令行窗口。

## Linux系统快捷操作
* 在Linux系统中使用` ctrl+alt+Fn `（n=1,2,3..n）来切换到第n个终端，也有些发行版采用快捷键` alt+Fn `
* ` ctrl+shift+t `可以在终端窗口中新建标签
* 命令行快捷方式
	* 输入一个很长的文件名时，可以先输入头几个字母，然后按tab键补全；系统补全操作会在出现其他可能的选择时停下来，此时要么再输入一位；要么再按tab键出现可能选择后，在对照着可能的选择中你要的那个文件名多输入一位，然后再按tab补全
	* ↑重复运行过的命令中的上一条命令，↓查找运行过的命令中的下一条命令
	* .bash_history记录之前输入的命令，默认为1000条。使用方法：按ctrl+R，命令提示符会变为(reverse-i-search)，此时输入的东西会去之前输入过的命令中匹配，找到后按回车键即可执行

## ※Linux与Windows在命令行与GUI启动顺序上的差异

* Linux是先启动命令行，在启动到黑底白字的终端界面后所有功能已经能够正常使用，**<font color="green">GUI只是在Linux系统之上运行的一套应用程序</font>**，GUI上又提供了可以使用命令行的虚拟终端；（红帽企业版默认在第一个终端上运行GUI）
* Windows系统的GUI与系统内核是高度集成的，它首先启动GUI，**<font color="green">命令行只是运行在GUI上的一个应用程序</font>**。

## <font color="green">※Linux系统中根目录下每个文件夹的作用</font>

* <font color="green">**/bin**</font> ：即Binary（二进制）的缩写，用于存放一些命令文件
* <font color="green">**/sbin**</font> ：s代表super user，用于存放root用户专用的一些命令文件
* <font color="green">**/boot**</font> ：boot意为启动、引导，如果不为Linux系统单独建立一个分区则会生成一个boot文件夹，用于存放操作系统的内核以及启动时必需的文件
* <font color="green">**/dev**</font> ：device的缩写，用于存放一些硬件设备
* <font color="green">**/proc**</font> ：内存的映射，如果要修改内存中的数据就通过proc修改，因此备份系统的时候，proc文件夹是不需要备份的
* <font color="green">**/etc**</font> ：存放各种程序的配置文件，这个文件夹一般体积较小，但很重要
* <font color="green">**/lib(或/lib64)**</font> ：用于存放动态链接；相当于Windows系统中的dll文件，程序是以功能片段+共享库的形式运行的，Linux系统中这样的文件后缀名一般为.so或.a
* **/lost+found** ：系统的“失物招领处”，非法关机后这里会存有一些文件，一般不会用到，但数据恢复的时候可能会需要找这个文件夹中的文件
* <font color="green">**/mnt**</font> ：mount的缩写，即挂载。挂载操作都需要一个挂载点，Linux系统中的挂载点通常放在这个目录下
* <font color="green">**/root**</font> ：root用户的主目录/家目录，只能root用户自己查看和操作，普通用户没有权限
* <font color="green">**/home**</font> ：普通用户用来存放自己的数据，即普通用户的主目录/家目录。比如有一个名为stu的用户，则它的主目录为/home/stu
* **/var** ：放一些经常发生变化的文件，比如日志文件、缓存文件等
* <font color="green">**/tmp**</font> ：存放一些临时文件，重要的文件一定不要放在tmp文件夹里，因为这个文件夹要么定时自动清理，要么开机自动清理，重要文件放在这里容易丢失
* /usr ：这个文件夹体积非常大，会放很多东西，比如应用程序的文件之类
* **/media** ：作用同mnt文件夹，区别在于，mnt文件夹下一般存放手动挂载设备的挂载点，而media文件夹下一般存放自动挂载设备（如U盘、移动硬盘等）的挂载点
* /opt ：option的缩写，意为“选择”，这个文件夹是一个可选的文件夹

## 为什么使用Linux命令行
因为一般执行远程操作管理的时候都是进入文本环境，GUI会消耗很多不必要的流量；而且使用命令行对做技术支持的人来说十分便利

## Linux系统的文件
* Linux系统的文件名几乎可以有ASCII字符的任意组合构成，文件名最长可多达255个字符
* Linux上可以有形式上的扩展名，扩展名有没有都可以；Linux是通过文件的头信息来识别文件类型的，扩展名在Linux系统上并不起作用，顶多可以由图形用户界面识别扩展名并显示对应的图标而已，再者是为了使文件在不同的文件系统中能够统一类型；
* Linux中的文件有三个时间信息：
	* ctime：即create time，创建时间
	* mtime：即modify time，修改时间，对文件内容进行修改或者对文件附属数据进行修改时会更新这个值
	* atime：访问时间，使用touch命令可以更新这个值
* 很多配置文件只能root用户修改
* Linux系统中的所有文件都有权限和主人

## Linux系统的用户
* 用户注册信息存放在/etc/passwd文件中，编号1000之后的是用户创建的用户，1000之前的是系统默认创建的用户
* Linux系统中要删除用户，实际上就是删除/etc/passwd中该用户的那一行信息，并删除` /home/用户名 `这个用户主目录
* 一般来讲，Linux系统上的home文件夹会单独放在一个分区，就如同windows系统中的D、E、F盘那样，因为重装系统时会格式化根分区，Windows会格式化C盘，将home单独放在一个分区可以避免用户数据丢失
* 如果Linux的用户改名，主目录是不会改名的

## **Linux系统中的几种文件类型**
1. 普通文件
2. 目录文件：即文件夹
3. 设备文件
4. 符号链接文件：分为软链接和硬链接

## Linux系统中的路径
* 绝对路径，以根目录即` / `开头
* 相对路径，以目录名开头或以` ./ `开头，比如` ./etc/ `也就相当于` etc/ `，代表当前目录下有个etc文件夹

## Linux系统中的硬链接和软链接
* 硬链接：不可以跨分区
* 软链接：相当于windows系统中的快捷方式，可以跨分区，也称为符号链接

# Linux系统常用命令

## <font color="green">※Shell提示符</font>
* root用户： ` # `
* 其他用户： ` $ `

## <font color="green">※shell提示符前面字符串的含义</font>
` [root@localhost home]# `
* root代表当前登录的用户的用户名
* localhost代表当前登录的主机名
* home代表当前所在目录
* ` # ` 是root用户的shell提示符

注意：命令行中输入密码时是**没有回显**的

## Linux系统一般命令格式
**命令名 [选项] [参数]**
通常情况下选项是一个短横线加一个字母，如-a、-x、-b，这三个选项也可以略写为-axb；
通常两个短横线之后跟一个完整的单词，如--all，则all是一个单词，是一个选项，而不是三个选项；
通常来讲会是这样，但并不绝对。

命令名必须是小写的英文字母，并且往往是表示相应功能的英文单词或单词的缩写；
命令名、选项和参数彼此间必须用空格或制表符隔开，不能连在一起，连续的空格会被shell解释为单个空格

## who命令
用于显示当前已注册到系统的所有用户名、所用终端名和注册到系统的时间。
` tty `即为真实终端，是无图形用户界面的终端。
` pts `指的是虚拟终端，是GUI中运行的终端窗口。
who am i命令将列出使用该命令的当前用户的相关信息

## 用户退出登录
* logout
* exit
* ctrl+P

## 发送消息
* shutdown -k <time> <message> 不关机，只发送消息给所有用户

## 关机
* halt
* shutdown **<font color="green">-h</font>** <time>  （time可以写为now，代表立刻关机）
	* 例：` shutdown -h 11:00 <message> ` 在11点关机并发送消息message
* poweroff

注意：有的发行版只有root用户可以关机

## 重启
* reboot
* shutdown **<font color="green">-r</font>** <time>
* ctrl+alt+del
* ctrl+alt+backspace —— 重启GUI

## init命令
涉及到init命令，首先要了解几个运行级别
* 0 —— 表示关机
* 6 —— 表示重启
则命令` init 0 `即表示关机

## clear命令
用于清除屏幕上的信息，类似于dos中的cls命令。

## passwd命令
用于修改密码。root用户使用` passwd 用户名 `可以不需要原密码就修改该用户的密码

## pwd命令
* 用于显示当前工作路径，可以使用cd命令来切换工作路径
* 选项：
	* -P 显示实际路径，即，如果路径中有链接文件，-P会将链接文件替换为真实文件
	* -L 显示逻辑路径

## su命令
* 用于切换用户身份，用法` su username `，如果不加用户名则默认切换到root用户
* root用户切换到普通用户不需要密码，但普通用户切换到root用户需要密码
* **不建议**从root用户用su命令切换到其他用户，因为这样相当于root用户穿了普通用户的马甲，一旦退出无需密码直接退回到root用户，这样有可能会导致一定的安全问题；建议使用exit命令退出root用户同时退回普通用户

## echo命令
* 用于将命令行中的参数回显到标准输出（即屏幕）上，如` echo $PATH `会显示环境变量PATH的值；而` echo 字符串A `会显示字符串A
* 选项：
	* -n ：表示输出字符串String之后光标不换行

## date命令
* 用于在屏幕上显示或设置系统的日期和时间
* date显示的日期信息中，有一列CST意为China Standard Time，中国标准时间，即北京时间
* date %y%m%d%H%M%S 可以显示年月日时分秒格式的日期

## cal命令
* 用于显示日历，一般格式为 cal [选项] [[[day]month]year]
* 如：` cal 2008 `会显示08年的日历，` cal 03 2020 `会显示2020年3月的日历

## file命令
使用` file 文件名 `可以查看文件的头信息
 	
## 查找
1. find ：用于在**硬盘**中查找文件的位置，用法` find 路径 -name *example `，其中*example代表以example结尾的文件
2. locate ：用于查找文件的位置，但在文件量特别大的情况下速度比find快，因为locate有一个小型的数据库并建立了索引，所以查找很快，但最新生成的文件可能查找不到因为还没有加入索引中
3. grep ：用法` grep 字符串 文件名 `，显示文件中包含该字符串的行，通常作为过滤器使用，如` cat fstab | grep fs `命令会将管道（即` | `）前面命令的输出作为管道后边命令的输入，前半部分命令用于输出文件全部内容，则fstab文件的所有内容作为后半部分命令的输入，最终得到fstab中包含fs的行

## 常用的文件操作命令
1. <font color="green">cat命令</font>
	* 用途：用于显示文件的所有内容；用于链接两个或多个文件
	* 选项：-n，即--number，从1开始对所有输出行编号
	* 举例： ` cat f1 f2>f3 `会将f1和f2的内容合并起来，然后通过输出重定向符号>的作用，将它们放入文件f3中。
2. more命令
	* 用途：显示文件内容，每次显示一屏；按空格键显示下一屏，按enter键显示下一行内容；文件浏览完毕后自动退出；是一次性读取整个文件；
3. less命令
	* 用途：与more类似也用于显示文件内容，但是区别在于，less允许用户向前或向后浏览文件，而more命令只能向前浏览。less命令在开始显示之前，不必读入整个文件，是部分读取，适合用于大文件；用pageup键上翻页，用pagedown键向下翻页，退出可以按q或Q，或者:q，:Q，或者ZZ均可。
4. head命令
	* 用途：用于在屏幕上显示指定文件的开头若干行，默认为前10行
	* 用法：` head [选项] [文件] `
	* 选项：-n，即--lines=N，显示指定文件的前面N行
5. tail命令
	* 用途：用于在屏幕上显示指定文件的末尾部分
	* 用法：` tail [选项] [FILE] `
	* 选项：
		* -f，当文件增长时输出附加的数据
		* -n，即--lines=N，输出最后的N行，而不是默认的10行
6. touch命令
	* 用途：用于修改文件的时间标签（即更新文件的atime）或者创建一个空文件
	* 用法：` touch [选项] file `，如果file不存在则新建一个文件；如果file已经存在则会更新文件的访问时间
7. file命令
	* 用途：用于确定文件类型
	* 用法：` file [选项] 文件名 `
	
## 匹配、排序及显示指定内容的命令
1. <font color="green">grep命令</font>
	* 用途：用于在文本文件中查找指定模式的词或短语，并在标准输出上显示包括给定字符串模式的所有行
	* 用法：` grep [选项] 模式 [文件...] `
	* 选项：-i，即--ignore-case，匹配比较时不区分字母的大小写
2. sort命令
	* 用途：用于对文本文件的各行进行排序
	* 用法：` sort [选项] [文件] `
3. uniq命令
	* 用途：用于从排好序的文件中去除重复行，需要注意的一点是，uniq比较的是相邻的行
	* 用法：` uniq [选项] [输入文件[输出文件]]
	
## <font color="red">※文件压缩命令</font>
1. Linux常见的压缩格式
	* filename.tar.gz（最普通）
	* filename.tar.bz2
	* filename.tar.xz（最常用）
	* .zip（通用，zip压缩包在各个系统上均可使用）
2. **filename.tar.gz**
	* 压缩：tar <font color="red">**z**</font><font color="green">**c**</font>vf filename.tar.gz some_file_dirs
	* 解压：tar <font color="red">**z**</font><font color="green">**x**</font>vf filename.tar.gz (-c /路径)
	* 解释：z选项指定了用于gz包；c选项和x选项分别指定了压缩和解压；v选项指定了需要显示详细信息，这个选项可以省略；f选项指明文件；解压命令中的-C选项可以指明解压到指定路径
3. **filename.tar.bz2**
	* 压缩：tar <font color="red">**j**</font><font color="green">**c**</font>vf filename.tar.bz2 some_file_dirs
	* 解压：tar <font color="red">**j**</font><font color="green">**x**</font>vf filename.tar.bz2
4. **filename.tar.xz**
	* 压缩：tar <font color="red">**J**</font><font color="green">**c**</font>vf filename.tar.xz some_file_dirs
	* 解压：tar <font color="red">**J**</font><font color="green">**x**</font>vf filename.tar.xz
5. **filename.zip**
	* 解压：unzip filename.zip
6. 一点知识补充，其实现在微软的无论docx还是pptx格式的文件，只要这些后缀名带x的，实际上就是zip文件，是可以解压的

## 比较文件内容的命令
1. comm命令（一般不用，一般会用vimdiff）
	* 用途：用于对两个已经排序的文件进行逐行比较
	* 用法：` comm [选项] 文件1 文件2 `
2. diff命令
	* 用途：用来比较两个文本文件，并找出他们的不同
	* 用法：` diff [选项] 文件1 文件2 `
	* 注：diff命令会生成一个patch文件，这个文件保存了两者之间的不同，相当于补丁的作用

## 复制、删除和移动文件的命令
1. <font color="red">※cp命令</font>
	* 用途：用于将源文件或目录复制到目标文件或目录中
	* 用法：` cp [选项] 源文件或目录 目标文件或目录 `
	* 选项：
		* -v，显示拷贝的详细过程，如果不用-v则只有光标在闪烁
		* -R，-r，递归复制目录，即将源目录下的所有文件及其各级子目录都复制到目标位置，此时目标文件必须为一个目录名
	* 特例：
		* ` cp 目录 不存在的文件的文件名 `会将前边的目录复制为一个新文件夹，命名为后边的文件名
		* ` cp -r dir newdir `，如果dir已经存在，会将dir放到newdir中；如果newdir不存在，会将dir复制为newdir
2. rm命令
	* 用途：用于删除文件或目录
	* 用法：` rm [选项] [文件] `
	* 选项：
		* -f，即--force，忽略不存在的文件，并且**不给出提示信息**；但是如果是普通用户删除文件，如果没有删除某个文件的权限，那么即使加了-f也是删不掉的
		* -r，-R，即-recursive，递归地删除指定目录及其下属的各级子目录和相应的文件
		* -i，交互式地删除文件，即删除文件之前会给出提示并需要用户逐个确认，与-f相反
3. mv命令
	* 用途：①对文件或目录重新命名②将文件从一个目录移动到另一个目录中
	* 用法：` mv [选项] 源文件 目标文件 `
	* 解释：如果目标文件与源文件路径不同，则是移动操作；如果路径相同，就相当于是重命名操作

## 文件内容统计命令
1. wc命令
	* 用途：用于统计指定文件的字节数、字数、行数，并将统计结果显示出来
	* 用法：` wc [选项] [文件] `
	* 选项：
		* -c，即--bytes，统计字节数
		* -l，即--lines，统计行数
		* -m，即--chars，统计字符数
		* -w，即--words，统计字数
	
## 常用的目录操作命令
1. mkdir命令
	* 用途：用来创建目录
	* 用法：` mkdir [选项] dirname `
	* 选项：-p，即--parents，可以一次建立多个目录，即如果为新建目录所指定的路径dirname中有些父目录尚不存在，此选项可以自动创建它们
	* 如果要创建一个**名字中带空格**的文件夹，则使用` mkdir "a b" `或者` mkdir a\ b `
2. rmdir命令
	* 用途：可以从一个目录中删除一个或多个**空的**子目录
	* 用法：` rmdir [选项] dirname `

## 改变工作目录和显示目录内容
1. cd命令
	* 用途：用于改变工作目录
	* 用法：` cd [dirname] `
	* 几种用法：
		* ` cd /绝对路径 ` ：cd命令可以跟一个绝对路径
		* ` cd ./相对路径 ` ：cd命令也可以跟一个相对路径
		* ` cd  ` ：cd后什么都不加或者加一个空格，代表将工作目录改为用户主目录
		* ` cd ~ ` ：同上，代表跳回用户主目录
		* ` cd .. ` ：跳回上级目录，` .. `代表上级目录
		* ` cd . ` ：跳回当前目录，其实相当于原地踏步。` . `代表当前目录
		* ` cd - ` ：后退一步，连续使用则会在两个工作目录之间来回跳转
	* 关于路径的注意点：根目录的` . `和` .. `是一样的；绝对路径一定是以根目录也就是` / `开头的
2. <font color="red">※ls命令</font>
	* 用途：列出指定目录的内容
	* 用法：` ls [选项] [file] `
	* 选项：
		* -a，即--all，显示指定目录下所有子目录和文件，包括以` . `开头的隐藏文件，包括` . `和` .. `
		* -d，如果参数是目录，则只显示它的名字（不显示其内容）；往往与-l选项一起使用，以得到该目录本身的详细信息
		* -h，一般结合-l选项使用，使文件大小字段带有一个最合适的单位方便用户查看
		* <font color="red">-l</font>，以长格式显示文件的详细信息，输出的信息分成多列，它们依次是：<font color="green">**文件类型与权限  链接数  文件主  文件组  文件大小  建立或最近修改的时间  文件名**</font>，其中，链接数指的是硬链接数，文件组显示的是主组的名称，即文件所属的用户属于哪个组
			* 例如：-rw-r--r--  2  mengqc  group  809  12月  27  2008  myfile2
		* 综上所述，` ls -lha `是一个很常用的命令，用于显示某个目录中所有文件的带单位的详细信息；并且，` ls -l `这个命令可以简写为` ll `

## <font color="red">※关于ls命令中的10个表示文件类型与权限的字符</font>
<font color="red">头一个字符代表了文件类型</font>，所用字符及含义如下：
* ` - `  普通文件
* ` d `  即dir，目录文件
* ` b `  即block，块设备文件，一般是指能存储数据的，比如硬盘
* ` c `  即char，字符设备文件，一般是能够显示字符的，比如打印机和屏幕
* ` l `  即link，符号链接文件，也就是软链接
* ` s `  套接字文件（socket），一般网络编程会用到
* ` p `  命名管道文件（pipe），管道即"|"

<font color="red">随后的九个字符分为三组，每组3个字符，分别代表了三组权限：第一组代表文件所有者的读、写、执行权限；第二组表示同组用户的读、写、执行权限；第三组表示其他用户的读、写、执行权限</font>，在权限部分会有详细讲解，其中
* ` r `	 即read，读
* ` w `  即write，写
* ` x `  即execute，执行，对于目录文件则表示该目录可以访问
* ` - `  代表没有对应的权限
* ` s `  不常见
* ` t `  不常见

权限字段的组合中，` rwxrwxrwx `的限制是最少的，但是Linux系统中一般不会设置成这样

3. ln命令
	* 用途：用来创建链接
	* 用法：` ln [选项] 源文件 [目标文件] `
	* 选项：-s，即--symbolic，建立符号链接而不是硬链接，如果要创建硬链接就不加-s
	
## 改变文件或目录存取权限的命令
1. chmod命令
	* 用途：即change mode，用于改变或设置文件或目录的存取权限，但是只有文件主或超级用户root才有权用chmod命令改变文件或目录的存取权限
	* 用法：改变文件权限有两种方法：文字设定法、数字设定法（常用）
	* 文字设定法：
		* 用法：` chmod [who] [+|-|=] [mode] filename `
		* 例如：` chmod o + r file.txt `是为其他用户增加file.txt文件的读权限
		* **操作对象who可以取的值有：**
			* **u，表示“用户（user）”，即文件或目录的所有者；**
			* **g，表示“同组（group）用户”，即与文件属主有相同组ID的所有用户；**
			* **o，表示“其他（others）用户”；**
			* **a，表示“所有（all）用户”，它是系统默认值**
		* **操作符号可以是：**
			* **+，即添加某个权限；**
			* **-，即取消某个权限；**
			* **=，即赋予给定权限并取消其他所有权限（如果有的话）；**
		* **mode所表示的权限可以是下述字母的任意组合：**
			* **r，可读；**
			* **w，可写；**
			* **x，可执行（或可搜索目录）；**
			* X，只有该目标文件是目录文件或对某些用户有可执行权限时，才有“可执行/搜索”属性
			* s，在文件执行时，把进程的属主或组ID置为该文件的文件属主。方式u+s设置文件的用户ID位，g+s设置组ID位
			* t，受限删除标志或粘着位，即程序的文本保存到交换设备上
			* **u，与文件属主拥有一样的权限；**
			* **g，与和文件属主同组的用户拥有一样的权限；**
			* **o，与其他用户拥有一样的权限；**
	
# 课外知识补充

### 计算机概括来讲可以分为几个部分
硬件、软件、**固件**。
软件分为几类：系统软件、支撑软件、应用软件。
固件是安装在硬件（比如主板内）上的软件，它引导操作系统的运行。它可以完成比如开机时显示厂商的界面和设置启动顺序等的界面等。

### 计算机的几种状态
关机；
休眠：windows将内存中的文件生成镜像文件存放在一个.sys文件中；Linux系统将内存中的文件生成镜像放入交换空间中，如果交换空间大小小于内存的大小，则不支持这种模式；休眠后执行关机操作，再开机时会直接读取镜像。
睡眠：可唤醒的状态。

### BIOS
BIOS即Basic Input Output System，基本输入输出系统。BIOS负责在系统通电时进行自检并且找到引导程序grub，grub再去硬盘上找到系统内核kernel。
tips：为什么引导程序普遍使用grub而不使用Lilo：因为Lilo要求内核必须放在硬盘的1024柱前面。

### **区别内存与外存**最直接的方法
断电后数据丢失的就是内存，而断电后数据仍旧可以保存的则是外存。用这种方法可以明显得知，现在普遍流传的“手机内存”的叫法其实是错误的。

### 安装多系统时的安装顺序
低版本→高版本，Windows→Linux。而lilo（或grub）负责多系统的引导，应当最后安装到MBR（分区表）中。

### 关于**文件系统**
ISO9660 —— 光盘文件系统，其中除了存储的数据之外还有其他信息，夹带了这些信息可以用于防盗版，因为这样软件只能通过光盘安装，单纯的复制文件光盘中的内容是无法安装的。而.iso文件就相当于虚拟光盘，需要虚拟光驱来运行。
FAT32 —— 此种文件系统不支持超过4G的文件，常应用在手机存储卡，win98，U盘等。
NTFS —— 即NT FIle System（NT文件系统），是windows系统常用的文件系统。

### windows系统相关
1. windows系统的内核：windows NT
2. windows使用的文件系统：NTFS也就是NT File System

### Linux系统版本
* Fedora是红帽9.0后可以免费使用的发行版，而rhel是9.0后为企业准备的发行版。
* Android内核使用的是Linux系统

### 系统调用
是操作系统内核与用户程序、应用程序之间的接口。在Unix/Linux系统上，系统调用以C函数的形式出现，比如用于打开一个文件的open函数。
结构如下图：
![系统调用](https://s1.ax1x.com/2018/04/16/CeBiG9.md.png "系统调用")

### 服务器的内存泄漏
指服务器上运行的软件不释放内存，因为服务器上运行的软件都是不经常关闭的，最后程序占用的内存会越来越大，导致内存泄漏。

### 其他
* 1752年9月没有3号-13号