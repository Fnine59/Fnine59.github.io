---
title: ES6学习笔记
date: 2018-06-26 15:37:26
tags: ES6
categories: 技术
---
# ES6简介

ES6简化了代码，提高了开发效率。其中最常用的几种功能是：解构赋值、箭头函数、Set和Map、异步操作、类与对象、模块化。

# ES6项目构建

## 基础架构

基础架构分为几部分：

	业务逻辑部分，包括页面和交互。
	自动构建部分，编译、辅助。辅助又分为自动刷新（非常实用）、文件合并、资源压缩。
	服务接口部分，包括数据和接口。
	
上面的基础架构结构具体如下图：
![基础架构](https://s1.ax1x.com/2018/06/26/PPEJQP.png "基础架构")
	
以上就是一个相对来说非常完善的基础架构。

## 任务自动化gulp

任务自动化：减少人工操作，让电脑自动监听作出的操作并且自动响应。

gulp是一个工具，解决自动化构建，增强工作流程的一个工具。

学习gulp，应当首先去官网了解api，并且了解插件，然后通过实际经验学习gulp的使用。

## 编译工具（babel、webpack）

babel现在十分流行，是用于编译ES6的工具，因为ES6目前是无法直接在浏览器上运行的。

webpack-stream的作用是webpack针对于gulp的支持。

## 代码实现

代码实现的流程，首先创建一个ES6前端工程，然后完成目录结构、自动化构建、服务器搭建。

# 构建ES6的运行环境

ES6项目构建主要分为几个部分：基础架构、任务自动化、编译工具、代码实现。

项目构建的步骤：

1. 创建根目录

2. 在根目录中创建三个并行的模块：
	app目录：用于放置前端代码；
	server目录：服务器目录；
	tasks目录：构建工具目录。

3. 进入app文件夹并创建下面几个目录：
	css目录：用于存放css文件；
	js目录：用于存放js文件；
	views目录：用于存放模板的目录；

4. 进入js目录进行以下操作：
	class目录：用于存放类文件（因为ES6中有类的概念）；
	初始化test.js文件，作为一个类使用；
	初始化index.js文件，作为入口文件；

5. 进入views目录并进行以下操作：
	初始化错误模板文件error.html/error.ejs；
	初始化入口模板文件index.html/index.ejs；
	上面的文件后缀名，是根据服务器端使用的模板文件格式来定的。因为这个项目中的后端想要使用express脚手架，它默认的模板格式是ejs格式，因此使用ejs格式，其实就可以看做html格式的文件。

6. 进入server目录，借用脚手架`express -e .`命令创建服务，其中`-e`表示要使用ejs格式的模板文件，`.`表示在当前目录创建。创建完后接着需要执行`npm install`命令。

7. 进入tasks构建文件目录。
	创建util目录，用于存放常见脚本。
	初始化一个util/args.js文件。

8. 回到根目录，进行如下操作：
	使用`npm init`文件初始化出package.json文件。
	创建一个`.babelrc`文件用于babel的配置。
	创建一个`gulpfile.babel.js`文件用于gulp的配置。
	
